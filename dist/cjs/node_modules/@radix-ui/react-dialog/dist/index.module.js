'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var index_module$7 = require('../../react-slot/dist/index.module.js');
var index = require('../../../aria-hidden/dist/es2015/index.js');
var Combination = require('../../../react-remove-scroll/dist/es2015/Combination.js');
var index_module$8 = require('../../react-focus-guards/dist/index.module.js');
var index_module$4 = require('../../react-primitive/dist/index.module.js');
var index_module$6 = require('../../react-presence/dist/index.module.js');
var index_module$9 = require('../../react-focus-scope/dist/index.module.js');
var index_module$a = require('../../react-dismissable-layer/dist/index.module.js');
var index_module$1 = require('../../react-use-controllable-state/dist/index.module.js');
var index_module$2 = require('../../react-id/dist/index.module.js');
var index_module = require('../../react-context/dist/index.module.js');
var index_module$3 = require('../../react-compose-refs/dist/index.module.js');
var index_module$5 = require('../../primitive/dist/index.module.js');
var React = require('react');
var _extends = require('../../../@babel/runtime/helpers/esm/extends.js');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () { return e[k]; }
				});
			}
		});
	}
	n["default"] = e;
	return Object.freeze(n);
}

var React__namespace = /*#__PURE__*/_interopNamespace(React);

const [x,C]=index_module.createContextScope("Dialog");const[v,E]=x("Dialog");const Dialog=e=>{const{__scopeDialog:o,children:t,open:r,defaultOpen:n,onOpenChange:a,modal:i=!0,allowPinchZoom:l}=e,c=React__namespace.useRef(null),p=React__namespace.useRef(null),[d=!1,f]=index_module$1.useControllableState({prop:r,defaultProp:n,onChange:a});return React__namespace.createElement(v,{scope:o,triggerRef:c,contentRef:p,contentId:index_module$2.useId(),titleId:index_module$2.useId(),descriptionId:index_module$2.useId(),open:d,onOpenChange:f,onOpenToggle:React__namespace.useCallback((()=>f((e=>!e))),[f]),modal:i,allowPinchZoom:l},t)};const DialogTrigger=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>{const{__scopeDialog:t,...r}=e,a=E("DialogTrigger",t),i=index_module$3.useComposedRefs(o,a.triggerRef);return React__namespace.createElement(index_module$4.Primitive.button,_extends["default"]({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":b(a.open)},r,{ref:i,onClick:index_module$5.composeEventHandlers(e.onClick,a.onOpenToggle)}))}));const DialogOverlay=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>{const{forceMount:t,...r}=e,n=E("DialogOverlay",e.__scopeDialog);return n.modal?/*#__PURE__*/React__namespace.createElement(index_module$6.Presence,{present:t||n.open},/*#__PURE__*/React__namespace.createElement(R,_extends["default"]({},r,{ref:o}))):null}));const R=/*#__PURE__*/React__namespace.forwardRef(((o,r)=>{const{__scopeDialog:a,...i}=o,l=E("DialogOverlay",a);return React__namespace.createElement(Combination["default"],{as:index_module$7.Slot,allowPinchZoom:l.allowPinchZoom,shards:[l.contentRef]},/*#__PURE__*/React__namespace.createElement(index_module$4.Primitive.div,_extends["default"]({"data-state":b(l.open)},i,{ref:r,style:{pointerEvents:"auto",...i.style}})))}));const DialogContent=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>{const{forceMount:t,...r}=e,n=E("DialogContent",e.__scopeDialog);return React__namespace.createElement(index_module$6.Presence,{present:t||n.open},n.modal?/*#__PURE__*/React__namespace.createElement(_,_extends["default"]({},r,{ref:o})):/*#__PURE__*/React__namespace.createElement(O,_extends["default"]({},r,{ref:o})))}));const _=/*#__PURE__*/React__namespace.forwardRef(((e,t)=>{const r=E("DialogContent",e.__scopeDialog),n=React__namespace.useRef(null),a=index_module$3.useComposedRefs(t,r.contentRef,n);return React__namespace.useEffect((()=>{const e=n.current;if(e)return index.hideOthers(e)}),[]),/*#__PURE__*/React__namespace.createElement(h,_extends["default"]({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:index_module$5.composeEventHandlers(e.onCloseAutoFocus,(e=>{var o;e.preventDefault(),null===(o=r.triggerRef.current)||void 0===o||o.focus();})),onPointerDownOutside:index_module$5.composeEventHandlers(e.onPointerDownOutside,(e=>{const o=e.detail.originalEvent,t=0===o.button&&!0===o.ctrlKey;(2===o.button||t)&&e.preventDefault();})),onFocusOutside:index_module$5.composeEventHandlers(e.onFocusOutside,(e=>e.preventDefault()))}))})),O=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>{const t=E("DialogContent",e.__scopeDialog),r=React__namespace.useRef(!1);return React__namespace.createElement(h,_extends["default"]({},e,{ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var n,a;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,o),o.defaultPrevented)||(r.current||null===(a=t.triggerRef.current)||void 0===a||a.focus(),o.preventDefault());r.current=!1;},onInteractOutside:o=>{var n,a;null===(n=e.onInteractOutside)||void 0===n||n.call(e,o),o.defaultPrevented||(r.current=!0);const i=o.target;(null===(a=t.triggerRef.current)||void 0===a?void 0:a.contains(i))&&o.preventDefault();}}))})),h=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,u=E("DialogContent",t),p=React__namespace.useRef(null),d=index_module$3.useComposedRefs(o,p);return index_module$8.useFocusGuards(),/*#__PURE__*/React__namespace.createElement(React__namespace.Fragment,null,/*#__PURE__*/React__namespace.createElement(index_module$9.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i},/*#__PURE__*/React__namespace.createElement(index_module$a.DismissableLayer,_extends["default"]({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":b(u.open)},s,{ref:d,onDismiss:()=>u.onOpenChange(!1)}))),!1)}));function b(e){return e?"open":"closed"}const Root=Dialog;const Trigger=DialogTrigger;const Overlay=DialogOverlay;const Content=DialogContent;

exports.Content = Content;
exports.Dialog = Dialog;
exports.DialogContent = DialogContent;
exports.DialogOverlay = DialogOverlay;
exports.DialogTrigger = DialogTrigger;
exports.Overlay = Overlay;
exports.Root = Root;
exports.Trigger = Trigger;
exports.createDialogScope = C;
