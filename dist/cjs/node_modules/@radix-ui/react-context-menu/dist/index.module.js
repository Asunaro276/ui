'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var index_module$2 = require('../../react-use-callback-ref/dist/index.module.js');
var index_module$1 = require('../../react-menu/dist/index.module.js');
var index_module$3 = require('../../react-primitive/dist/index.module.js');
var index_module = require('../../react-context/dist/index.module.js');
var index_module$4 = require('../../primitive/dist/index.module.js');
var React = require('react');
var _extends = require('../../../@babel/runtime/helpers/esm/extends.js');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () { return e[k]; }
				});
			}
		});
	}
	n["default"] = e;
	return Object.freeze(n);
}

var React__namespace = /*#__PURE__*/_interopNamespace(React);

const [s,i]=index_module.createContextScope("ContextMenu",[index_module$1.createMenuScope]);const x=index_module$1.createMenuScope(),[p,C]=s("ContextMenu");const ContextMenu=n=>{const{__scopeContextMenu:o,children:r,onOpenChange:c,dir:s,modal:i=!0}=n,[C,m]=React__namespace.useState(!1),f=l("ContextMenu",o),d=x(o),M=index_module$2.useCallbackRef(c),R=React__namespace.useCallback((e=>{m(e),M(e);}),[M]);return f.isInsideContent?/*#__PURE__*/React__namespace.createElement(p,{scope:o,isRootMenu:!1,open:C,onOpenChange:R,modal:i},/*#__PURE__*/React__namespace.createElement(index_module$1.Sub,_extends["default"]({},d,{open:C,onOpenChange:R}),r)):/*#__PURE__*/React__namespace.createElement(p,{scope:o,isRootMenu:!0,open:C,onOpenChange:R,modal:i},/*#__PURE__*/React__namespace.createElement(index_module$1.Root,_extends["default"]({},d,{dir:s,open:C,onOpenChange:R,modal:i}),r))};const ContextMenuTrigger=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:r,...s}=e,i=C("ContextMenuTrigger",r),p=x(r),l=React__namespace.useRef({x:0,y:0}),f=React__namespace.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),M=React__namespace.useRef(0),R=React__namespace.useCallback((()=>window.clearTimeout(M.current)),[]),_=e=>{l.current={x:e.clientX,y:e.clientY},i.onOpenChange(!0);};return React__namespace.useEffect((()=>R),[R]),/*#__PURE__*/React__namespace.createElement(m,{scope:r,isInsideContent:!1},/*#__PURE__*/React__namespace.createElement(index_module$1.Anchor,_extends["default"]({},p,{virtualRef:f})),/*#__PURE__*/React__namespace.createElement(index_module$3.Primitive.span,_extends["default"]({},s,{ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:index_module$4.composeEventHandlers(e.onContextMenu,(e=>{R(),e.preventDefault(),_(e);})),onPointerDown:index_module$4.composeEventHandlers(e.onPointerDown,d((e=>{R(),M.current=window.setTimeout((()=>_(e)),700);}))),onPointerMove:index_module$4.composeEventHandlers(e.onPointerMove,d(R)),onPointerCancel:index_module$4.composeEventHandlers(e.onPointerCancel,d(R)),onPointerUp:index_module$4.composeEventHandlers(e.onPointerUp,d(R))})))}));const[m,l]=s("ContextMenuContent",{isInsideContent:!1});const ContextMenuContent=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=C("ContextMenuContent",o),s=x(o),i={...r,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}};return React__namespace.createElement(m,{scope:o,isInsideContent:!0},c.isRootMenu?/*#__PURE__*/React__namespace.createElement(f,_extends["default"]({__scopeContextMenu:o},i,{ref:n})):/*#__PURE__*/React__namespace.createElement(index_module$1.Content,_extends["default"]({},s,i,{ref:n})))}));const f=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=C("ContextMenuContent",o),s=x(o),i=React__namespace.useRef(!1);return React__namespace.createElement(index_module$1.Content,_extends["default"]({},s,r,{ref:n,portalled:!0,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:t=>{var n;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),!t.defaultPrevented&&i.current&&t.preventDefault(),i.current=!1;},onInteractOutside:t=>{var n;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||c.modal||(i.current=!0);}}))}));const ContextMenuLabel=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);return React__namespace.createElement(index_module$1.Label,_extends["default"]({},c,r,{ref:n}))}));const ContextMenuItem=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);return React__namespace.createElement(index_module$1.Item,_extends["default"]({},c,r,{ref:n}))}));const ContextMenuCheckboxItem=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);return React__namespace.createElement(index_module$1.CheckboxItem,_extends["default"]({},c,r,{ref:n}))}));const ContextMenuRadioGroup=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);return React__namespace.createElement(index_module$1.RadioGroup,_extends["default"]({},c,r,{ref:n}))}));const ContextMenuRadioItem=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);return React__namespace.createElement(index_module$1.RadioItem,_extends["default"]({},c,r,{ref:n}))}));const ContextMenuItemIndicator=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);return React__namespace.createElement(index_module$1.ItemIndicator,_extends["default"]({},c,r,{ref:n}))}));function d(e){return t=>"mouse"!==t.pointerType?e(t):void 0}const Root=ContextMenu;const Trigger=ContextMenuTrigger;const Content=ContextMenuContent;const Label=ContextMenuLabel;const Item=ContextMenuItem;const CheckboxItem=ContextMenuCheckboxItem;const RadioGroup=ContextMenuRadioGroup;const RadioItem=ContextMenuRadioItem;const ItemIndicator=ContextMenuItemIndicator;

exports.CheckboxItem = CheckboxItem;
exports.Content = Content;
exports.ContextMenu = ContextMenu;
exports.ContextMenuCheckboxItem = ContextMenuCheckboxItem;
exports.ContextMenuContent = ContextMenuContent;
exports.ContextMenuItem = ContextMenuItem;
exports.ContextMenuItemIndicator = ContextMenuItemIndicator;
exports.ContextMenuLabel = ContextMenuLabel;
exports.ContextMenuRadioGroup = ContextMenuRadioGroup;
exports.ContextMenuRadioItem = ContextMenuRadioItem;
exports.ContextMenuTrigger = ContextMenuTrigger;
exports.Item = Item;
exports.ItemIndicator = ItemIndicator;
exports.Label = Label;
exports.RadioGroup = RadioGroup;
exports.RadioItem = RadioItem;
exports.Root = Root;
exports.Trigger = Trigger;
exports.createContextMenuScope = i;
